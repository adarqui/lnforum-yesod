-- https://github.com/yesodweb/persistent/wiki/Persistent-entity-syntax
-- http://www.yesodweb.com/book/persistent



Super
  userId UserId
  UniqueSuperUser userId
  deriving Eq Show Typeable



User
  name            Text
  displayName     Text default='null'
  fullName        Text default='null'
  email           Text
  emailMD5        Text
  plugin          Text

  -- Specific OAuth2 services
  -- * Github
  -- * Google
  --
  githubIdent     Text Maybe
  githubCreatedAt UTCTime Maybe

  googleIdent     Text Maybe
  googleCreatedAt UTCTime Maybe

  acceptTOS       UTCTime Maybe default=now()

  active          Bool default=True
  guard           Int  default=0

  createdAt       UTCTime Maybe default=now()
  modifiedAt      UTCTime Maybe
  activityAt      UTCTime Maybe

  UniqueName         name
  UniqueDisplayName  displayName
  UniqueGithubIdent  githubIdent !force
  UniqueGoogleIdent  googleIdent !force
  UniqueEmail        email

  deriving Eq Show Typeable




Profile
  userId     UserId
  gender     ProfileGender
  birthdate  UTCTime
  website    Text Maybe
  websites   [Text]
  location   Text Maybe
  signature  Text Maybe
  debug      Bool default=False
  karmaGood  Int default=0
  karmaBad   Int default=0

  guard      Int default=0

  createdAt  UTCTime Maybe default=now()
  modifiedAt UTCTime Maybe

  UniqueProfile userId
  deriving Eq Show Typeable Generic



Api
  userId     UserId
  key        Text
  comment    Text Maybe

  active     Bool default=True
  guard      Int  default=0

  createdAt  UTCTime Maybe default=now()
  modifiedAt UTCTime Maybe

  UniqueApiKey key

  deriving Eq Show Typeable
